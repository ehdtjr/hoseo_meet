pg_stat_activity:
  query: "SELECT CASE WHEN state = 'active' THEN 1 ELSE 0 END AS state_numeric, count(*) AS count FROM pg_stat_activity GROUP BY state_numeric"
  metrics:
    - count:
        usage: "GAUGE"
        description: "Number of active or idle connections in PostgreSQL"
